<mxfile host="app.diagrams.net" modified="2026-02-16T00:00:00.000Z" agent="Claude" version="22.1.16" type="device">
  <diagram id="oci-uml25-deployment" name="OCI UML 2.5 Deployment Diagram">
    <mxGraphModel dx="1800" dy="1000" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1900" pageHeight="1400" math="0" shadow="1">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- TITLE BLOCK                                             -->
        <!-- ═══════════════════════════════════════════════════════ -->
        <mxCell id="title-box" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1e3a5f;strokeColor=#1e3a5f;" vertex="1" parent="1">
          <mxGeometry x="30" y="20" width="1840" height="6" as="geometry" />
        </mxCell>
        <mxCell id="title" value="«deploymentDiagram»" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="30" y="30" width="300" height="20" as="geometry" />
        </mxCell>
        <mxCell id="title2" value="Matching Engine — Oracle Cloud Infrastructure" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=22;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="400" y="28" width="1100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="title3" value="UML 2.5 Deployment Diagram  ·  Region: us-ashburn-1  ·  Precio sin Free Tier: $179.21 USD/mes" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontColor=#555555;" vertex="1" parent="1">
          <mxGeometry x="400" y="58" width="1100" height="20" as="geometry" />
        </mxCell>

        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- ACTOR: Client (k6 load tester / external user)         -->
        <!-- ═══════════════════════════════════════════════════════ -->
        <mxCell id="actor-client" value="&lt;b&gt;:Client&lt;/b&gt;&#xa;(k6 / Browser)" style="shape=mxgraph.flowchart.start_2;fillColor=#dae8fc;strokeColor=#6c8ebf;html=1;pointerEvents=1;whiteSpace=wrap;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="60" y="190" width="50" height="50" as="geometry" />
        </mxCell>
        <mxCell id="actor-ops" value="&lt;b&gt;:Operator&lt;/b&gt;&#xa;(SSH Admin)" style="shape=mxgraph.flowchart.start_2;fillColor=#ffe6cc;strokeColor=#d79b00;html=1;pointerEvents=1;whiteSpace=wrap;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="60" y="400" width="50" height="50" as="geometry" />
        </mxCell>

        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- NODE: Internet (Cloud boundary)                         -->
        <!-- UML: Node (stereotype «network»)                        -->
        <!-- ═══════════════════════════════════════════════════════ -->
        <mxCell id="node-internet" value="«network»&#xa;&lt;b&gt;Internet&lt;/b&gt;" style="shape=mxgraph.cisco.sites.generic_building;html=1;dashed=0;outline=0;labelPosition=center;verticalLabelPosition=bottom;align=center;verticalAlign=top;spacingTop=-5;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=11;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="180" y="180" width="80" height="80" as="geometry" />
        </mxCell>

        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- NODE: VCN (top-level boundary)                          -->
        <!-- UML: Node (stereotype «device», OCI VCN)                -->
        <!-- ═══════════════════════════════════════════════════════ -->
        <mxCell id="node-vcn" value="«device»&#xa;&lt;b&gt;matching-engine-vcn&lt;/b&gt;&#xa;10.0.0.0/16  ·  us-ashburn-1" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];shape=mxgraph.cisco.sites.standard_site;sketch=0;html=1;whiteSpace=wrap;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2;fontSize=13;fontStyle=1;verticalAlign=top;spacingTop=8;rounded=0;swimlaneHead=0;align=center;" vertex="1" parent="1">
          <mxGeometry x="340" y="110" width="1500" height="1200" as="geometry" />
        </mxCell>

        <!-- ─────────────────────────────────────────────────── -->
        <!-- NODE: Public Subnet                                  -->
        <!-- UML: ExecutionEnvironment (stereotype «subnet»)      -->
        <!-- ─────────────────────────────────────────────────── -->
        <mxCell id="ee-public-subnet" value="«executionEnvironment»&#xa;&lt;b&gt;PublicSubnet&lt;/b&gt;&#xa;10.0.0.0/24  ·  Internet-accessible" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=11;fontStyle=1;startSize=55;rounded=0;swimlaneHead=0;strokeWidth=2;" vertex="1" parent="node-vcn">
          <mxGeometry x="30" y="80" width="700" height="330" as="geometry" />
        </mxCell>

        <!-- IGW Device (within public subnet) -->
        <mxCell id="node-igw" value="«device»&#xa;&lt;b&gt;InternetGateway&lt;/b&gt;&#xa;—&#xa;$0.00/mes" style="shape=mxgraph.network.gateway;html=1;dashed=0;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;align=center;verticalAlign=middle;spacingTop=0;" vertex="1" parent="ee-public-subnet">
          <mxGeometry x="40" y="70" width="120" height="80" as="geometry" />
        </mxCell>

        <!-- NAT Gateway Device -->
        <mxCell id="node-nat" value="«device»&#xa;&lt;b&gt;NATGateway&lt;/b&gt;&#xa;Egress only&#xa;$32.85/mes" style="shape=mxgraph.network.gateway;html=1;dashed=0;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;align=center;verticalAlign=middle;" vertex="1" parent="ee-public-subnet">
          <mxGeometry x="200" y="70" width="120" height="80" as="geometry" />
        </mxCell>

        <!-- Flexible Load Balancer -->
        <mxCell id="node-lb" value="«device»&#xa;&lt;b&gt;FlexibleLoadBalancer&lt;/b&gt;&#xa;10 Mbps · Port :80 → :8080&#xa;Health: GET /health&#xa;VM.Standard.A1 · $64.24/mes" style="shape=mxgraph.network.server;html=1;dashed=0;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;align=center;verticalAlign=top;spacingTop=4;" vertex="1" parent="ee-public-subnet">
          <mxGeometry x="390" y="60" width="260" height="110" as="geometry" />
        </mxCell>

        <!-- Bastion Device -->
        <mxCell id="node-bastion" value="«device»&#xa;&lt;b&gt;bastion-host&lt;/b&gt;&#xa;VM.Standard.E4.Flex&#xa;1 OCPU (x86_64) · 1 GB RAM&#xa;Oracle Linux 8&#xa;Public IP · Port :22&#xa;$19.35/mes" style="shape=mxgraph.cisco.servers.generic_server;html=1;dashed=0;pointerEvents=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=10;align=center;verticalAlign=top;spacingTop=4;labelPosition=center;verticalLabelPosition=bottom;spacingBottom=0;" vertex="1" parent="ee-public-subnet">
          <mxGeometry x="40" y="185" width="80" height="80" as="geometry" />
        </mxCell>

        <!-- ─────────────────────────────────────────────────── -->
        <!-- NODE: Private Subnet                                 -->
        <!-- UML: ExecutionEnvironment (stereotype «subnet»)      -->
        <!-- ─────────────────────────────────────────────────── -->
        <mxCell id="ee-private-subnet" value="«executionEnvironment»&#xa;&lt;b&gt;PrivateSubnet&lt;/b&gt;&#xa;10.0.1.0/24  ·  Isolated — no direct internet" style="swimlane;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontSize=11;fontStyle=1;startSize=55;rounded=0;swimlaneHead=0;strokeWidth=2;fontColor=#333333;" vertex="1" parent="node-vcn">
          <mxGeometry x="30" y="450" width="1440" height="710" as="geometry" />
        </mxCell>

        <!-- ─────────────────────────────────────────────────── -->
        <!-- NODE: me-shard-a                                     -->
        <!-- UML: Node (stereotype «device») + ExecutionEnv       -->
        <!-- ─────────────────────────────────────────────────── -->
        <mxCell id="node-shard-a" value="«device»&#xa;&lt;b&gt;me-shard-a&lt;/b&gt;&#xa;VM.Standard.A1.Flex&#xa;1 OCPU (ARM64) · 6 GB RAM&#xa;Oracle Linux 8 · 30 GB Boot&#xa;10.0.1.20&#xa;$13.87/mes" style="shape=mxgraph.cisco.servers.standard_server;html=1;dashed=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;align=center;verticalAlign=top;spacingTop=4;labelPosition=center;verticalLabelPosition=bottom;spacingBottom=0;" vertex="1" parent="ee-private-subnet">
          <mxGeometry x="30" y="70" width="70" height="80" as="geometry" />
        </mxCell>

        <!-- ExecutionEnvironment: Docker on shard-a -->
        <mxCell id="ee-docker-a" value="«executionEnvironment»&#xa;&lt;b&gt;Docker 24.x&lt;/b&gt;&#xa;--network host" style="swimlane;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;fontStyle=1;startSize=45;rounded=1;strokeWidth=1;" vertex="1" parent="ee-private-subnet">
          <mxGeometry x="120" y="70" width="300" height="360" as="geometry" />
        </mxCell>

        <!-- ExecutionEnvironment: JVM on shard-a -->
        <mxCell id="ee-jvm-a" value="«executionEnvironment»&#xa;&lt;b&gt;JVM 21 (ZGC)&lt;/b&gt;&#xa;-Xms256m -Xmx512m" style="swimlane;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;fontStyle=1;startSize=45;rounded=1;strokeWidth=1;fillColor=#EBF3FB;" vertex="1" parent="ee-docker-a">
          <mxGeometry x="10" y="50" width="280" height="290" as="geometry" />
        </mxCell>

        <!-- Artifact: matching-engine JAR on shard-a -->
        <mxCell id="art-me-a" value="«artifact»&#xa;&lt;b&gt;matching-engine.jar&lt;/b&gt;&#xa;v1 · eclipse-temurin:21-alpine&#xa;────────────────────&#xa;LMAX Disruptor 4.0.0&#xa;Kafka Client 3.7.0&#xa;Prometheus Metrics 1.3.1&#xa;────────────────────&#xa;:8080 HTTP /orders /seed /health&#xa;:9091 /metrics&#xa;SHARD_ID=a · Symbols: A,B,C,D&#xa;Ring Buffer: 131072 slots" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=9;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;spacingLeft=8;verticalAlign=top;spacingTop=4;" vertex="1" parent="ee-jvm-a">
          <mxGeometry x="10" y="50" width="260" height="210" as="geometry" />
        </mxCell>

        <!-- ─────────────────────────────────────────────────── -->
        <!-- NODE: me-shard-b                                     -->
        <!-- ─────────────────────────────────────────────────── -->
        <mxCell id="node-shard-b" value="«device»&#xa;&lt;b&gt;me-shard-b&lt;/b&gt;&#xa;VM.Standard.A1.Flex&#xa;1 OCPU (ARM64) · 6 GB RAM&#xa;Oracle Linux 8 · 30 GB Boot&#xa;10.0.1.21&#xa;$13.87/mes" style="shape=mxgraph.cisco.servers.standard_server;html=1;dashed=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;align=center;verticalAlign=top;spacingTop=4;labelPosition=center;verticalLabelPosition=bottom;spacingBottom=0;" vertex="1" parent="ee-private-subnet">
          <mxGeometry x="460" y="70" width="70" height="80" as="geometry" />
        </mxCell>

        <!-- ExecutionEnvironment: Docker on shard-b -->
        <mxCell id="ee-docker-b" value="«executionEnvironment»&#xa;&lt;b&gt;Docker 24.x&lt;/b&gt;&#xa;--network host" style="swimlane;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;fontStyle=1;startSize=45;rounded=1;strokeWidth=1;" vertex="1" parent="ee-private-subnet">
          <mxGeometry x="550" y="70" width="300" height="360" as="geometry" />
        </mxCell>

        <mxCell id="ee-jvm-b" value="«executionEnvironment»&#xa;&lt;b&gt;JVM 21 (ZGC)&lt;/b&gt;&#xa;-Xms256m -Xmx512m" style="swimlane;whiteSpace=wrap;html=1;fillColor=#EBF3FB;strokeColor=#6c8ebf;fontSize=10;fontStyle=1;startSize=45;rounded=1;strokeWidth=1;" vertex="1" parent="ee-docker-b">
          <mxGeometry x="10" y="50" width="280" height="290" as="geometry" />
        </mxCell>

        <mxCell id="art-me-b" value="«artifact»&#xa;&lt;b&gt;matching-engine.jar&lt;/b&gt;&#xa;v1 · eclipse-temurin:21-alpine&#xa;────────────────────&#xa;LMAX Disruptor 4.0.0&#xa;Kafka Client 3.7.0&#xa;Prometheus Metrics 1.3.1&#xa;────────────────────&#xa;:8080 HTTP /orders /seed /health&#xa;:9091 /metrics&#xa;SHARD_ID=b · Symbols: E,F,G,H&#xa;Ring Buffer: 131072 slots" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=9;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;spacingLeft=8;verticalAlign=top;spacingTop=4;" vertex="1" parent="ee-jvm-b">
          <mxGeometry x="10" y="50" width="260" height="210" as="geometry" />
        </mxCell>

        <!-- ─────────────────────────────────────────────────── -->
        <!-- NODE: me-shard-c (also hosts Redpanda)              -->
        <!-- ─────────────────────────────────────────────────── -->
        <mxCell id="node-shard-c" value="«device»&#xa;&lt;b&gt;me-shard-c&lt;/b&gt;&#xa;VM.Standard.A1.Flex&#xa;1 OCPU (ARM64) · 6 GB RAM&#xa;Oracle Linux 8 · 30 GB Boot&#xa;10.0.1.22&#xa;$13.87/mes" style="shape=mxgraph.cisco.servers.standard_server;html=1;dashed=0;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;align=center;verticalAlign=top;spacingTop=4;labelPosition=center;verticalLabelPosition=bottom;spacingBottom=0;" vertex="1" parent="ee-private-subnet">
          <mxGeometry x="890" y="70" width="70" height="80" as="geometry" />
        </mxCell>

        <mxCell id="ee-docker-c" value="«executionEnvironment»&#xa;&lt;b&gt;Docker 24.x&lt;/b&gt;&#xa;--network host" style="swimlane;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;fontStyle=1;startSize=45;rounded=1;strokeWidth=1;" vertex="1" parent="ee-private-subnet">
          <mxGeometry x="980" y="70" width="300" height="360" as="geometry" />
        </mxCell>

        <mxCell id="ee-jvm-c" value="«executionEnvironment»&#xa;&lt;b&gt;JVM 21 (ZGC)&lt;/b&gt;&#xa;-Xms256m -Xmx512m" style="swimlane;whiteSpace=wrap;html=1;fillColor=#EBF3FB;strokeColor=#6c8ebf;fontSize=10;fontStyle=1;startSize=45;rounded=1;strokeWidth=1;" vertex="1" parent="ee-docker-c">
          <mxGeometry x="10" y="50" width="280" height="170" as="geometry" />
        </mxCell>

        <mxCell id="art-me-c" value="«artifact»&#xa;&lt;b&gt;matching-engine.jar&lt;/b&gt;&#xa;v1 · eclipse-temurin:21-alpine&#xa;────────────────────&#xa;:8080 :9091&#xa;SHARD_ID=c · Symbols: I,J,K,L" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=9;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;spacingLeft=8;verticalAlign=top;spacingTop=4;" vertex="1" parent="ee-jvm-c">
          <mxGeometry x="10" y="50" width="260" height="100" as="geometry" />
        </mxCell>

        <!-- ExecutionEnvironment: Redpanda on shard-c -->
        <mxCell id="ee-redpanda" value="«executionEnvironment»&#xa;&lt;b&gt;Redpanda (Kafka-compat)&lt;/b&gt;&#xa;--smp=1 --memory=1G" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;fontStyle=1;startSize=45;rounded=1;strokeWidth=1;" vertex="1" parent="ee-docker-c">
          <mxGeometry x="10" y="230" width="280" height="110" as="geometry" />
        </mxCell>

        <mxCell id="art-redpanda" value="«artifact»&#xa;&lt;b&gt;redpanda:latest&lt;/b&gt;&#xa;:9092 Kafka API · :9644 Admin&#xa;Topics: orders (12p) · matches (12p)" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=9;fillColor=#fff2cc;strokeColor=#d6b656;align=left;spacingLeft=8;verticalAlign=top;spacingTop=4;" vertex="1" parent="ee-redpanda">
          <mxGeometry x="10" y="48" width="260" height="52" as="geometry" />
        </mxCell>

        <!-- ─────────────────────────────────────────────────── -->
        <!-- NODE: edge-and-tools                                 -->
        <!-- ─────────────────────────────────────────────────── -->
        <mxCell id="node-edge" value="«device»&#xa;&lt;b&gt;edge-and-tools&lt;/b&gt;&#xa;VM.Standard.A1.Flex&#xa;1 OCPU (ARM64) · 6 GB RAM&#xa;Oracle Linux 8 · 40 GB Boot&#xa;10.0.1.30&#xa;$13.87/mes" style="shape=mxgraph.cisco.servers.standard_server;html=1;dashed=0;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;align=center;verticalAlign=top;spacingTop=4;labelPosition=center;verticalLabelPosition=bottom;spacingBottom=0;" vertex="1" parent="ee-private-subnet">
          <mxGeometry x="30" y="470" width="70" height="80" as="geometry" />
        </mxCell>

        <mxCell id="ee-docker-edge" value="«executionEnvironment»&#xa;&lt;b&gt;Docker 24.x&lt;/b&gt;&#xa;--network host" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;fontStyle=1;startSize=45;rounded=1;strokeWidth=1;" vertex="1" parent="ee-private-subnet">
          <mxGeometry x="120" y="470" width="1300" height="215" as="geometry" />
        </mxCell>

        <!-- Edge Gateway JVM -->
        <mxCell id="ee-jvm-edge" value="«executionEnvironment»&#xa;&lt;b&gt;JVM 21&lt;/b&gt;" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;fontStyle=1;startSize=40;rounded=1;strokeWidth=1;" vertex="1" parent="ee-docker-edge">
          <mxGeometry x="10" y="50" width="310" height="145" as="geometry" />
        </mxCell>
        <mxCell id="art-gateway" value="«artifact»&#xa;&lt;b&gt;edge-gateway.jar&lt;/b&gt;&#xa;v1 · eclipse-temurin:21-alpine&#xa;────────────────────&#xa;:8080 POST /orders (sym-hash routing)&#xa;:8080 POST /seed/{shardId}&#xa;:8080 GET /health&#xa;:9091 GET /metrics&#xa;Route: A-D→:20 · E-H→:21 · I-L→:22" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=9;fillColor=#d5e8d4;strokeColor=#82b366;align=left;spacingLeft=8;verticalAlign=top;spacingTop=4;" vertex="1" parent="ee-jvm-edge">
          <mxGeometry x="10" y="43" width="290" height="92" as="geometry" />
        </mxCell>

        <!-- Prometheus container -->
        <mxCell id="ee-prometheus" value="«executionEnvironment»&#xa;&lt;b&gt;Prometheus&lt;/b&gt;" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;fontStyle=1;startSize=40;rounded=1;strokeWidth=1;" vertex="1" parent="ee-docker-edge">
          <mxGeometry x="340" y="50" width="300" height="145" as="geometry" />
        </mxCell>
        <mxCell id="art-prometheus" value="«artifact»&#xa;&lt;b&gt;prom/prometheus:latest&lt;/b&gt;&#xa;:9090 HTTP API · scrape: 5s&#xa;────────────────────&#xa;Targets: :9091 (×4 ME + GW)&#xa;me_match_duration_seconds&#xa;me_matches_total&#xa;me_orderbook_depth&#xa;me_ringbuffer_utilization_ratio" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=9;fillColor=#d5e8d4;strokeColor=#82b366;align=left;spacingLeft=8;verticalAlign=top;spacingTop=4;" vertex="1" parent="ee-prometheus">
          <mxGeometry x="10" y="43" width="280" height="92" as="geometry" />
        </mxCell>

        <!-- Grafana container -->
        <mxCell id="ee-grafana" value="«executionEnvironment»&#xa;&lt;b&gt;Grafana&lt;/b&gt;" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;fontStyle=1;startSize=40;rounded=1;strokeWidth=1;" vertex="1" parent="ee-docker-edge">
          <mxGeometry x="660" y="50" width="300" height="145" as="geometry" />
        </mxCell>
        <mxCell id="art-grafana" value="«artifact»&#xa;&lt;b&gt;grafana/grafana:latest&lt;/b&gt;&#xa;:3000 HTTP · admin/admin&#xa;────────────────────&#xa;Datasource: Prometheus :9090&#xa;Dashboard: matching-engine-exp&#xa;  Panel 1: p99/p95/p50 latency&#xa;  Panel 2: matches/min (×3 shards)&#xa;  Panel 3: Order Book depth&#xa;  Panel 4: Error rate" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=9;fillColor=#d5e8d4;strokeColor=#82b366;align=left;spacingLeft=8;verticalAlign=top;spacingTop=4;" vertex="1" parent="ee-grafana">
          <mxGeometry x="10" y="43" width="280" height="92" as="geometry" />
        </mxCell>

        <!-- k6 artifact -->
        <mxCell id="ee-k6" value="«executionEnvironment»&#xa;&lt;b&gt;k6 Runtime&lt;/b&gt;" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;fontStyle=1;startSize=40;rounded=1;strokeWidth=1;" vertex="1" parent="ee-docker-edge">
          <mxGeometry x="980" y="50" width="305" height="145" as="geometry" />
        </mxCell>
        <mxCell id="art-k6" value="«artifact»&#xa;&lt;b&gt;k6 (Grafana Labs)&lt;/b&gt;&#xa;ARM64 binary · /usr/local/bin/k6&#xa;────────────────────&#xa;ASR 1: stochastic-normal-2min.js&#xa;ASR 1: stochastic-aggressive-20s.js&#xa;ASR 2: asr2-b2-peak-sustained.js&#xa;ASR 2: asr2-b3-ramp.js&#xa;Out: prometheus-rw → :9090" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;fontSize=9;fillColor=#d5e8d4;strokeColor=#82b366;align=left;spacingLeft=8;verticalAlign=top;spacingTop=4;" vertex="1" parent="ee-k6">
          <mxGeometry x="10" y="43" width="285" height="92" as="geometry" />
        </mxCell>

        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- COMMUNICATION PATHS (UML 2.5 solid lines)              -->
        <!-- ═══════════════════════════════════════════════════════ -->

        <!-- Actor → Internet -->
        <mxCell id="cp-client-inet" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=2;strokeColor=#6c8ebf;" edge="1" parent="1" source="actor-client" target="node-internet">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Actor Ops → Bastion -->
        <mxCell id="cp-ops-bastion" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=2;strokeColor=#d79b00;dashed=1;" edge="1" parent="1" source="actor-ops" target="node-bastion">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="label-ops" value=":22 SSH" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=9;fontColor=#d79b00;" vertex="1" connectable="0" parent="cp-ops-bastion">
          <mxGeometry x="-0.1" relative="1" as="geometry"><mxPoint as="offset" /></mxGeometry>
        </mxCell>

        <!-- Internet → IGW -->
        <mxCell id="cp-inet-igw" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=2;strokeColor=#6c8ebf;" edge="1" parent="1" source="node-internet" target="node-igw">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- IGW → LB (HTTP :80) -->
        <mxCell id="cp-igw-lb" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=2;strokeColor=#b85450;" edge="1" parent="ee-public-subnet" source="node-igw" target="node-lb">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="label-igw-lb" value="HTTP :80" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=9;fontColor=#b85450;fontStyle=1;" vertex="1" connectable="0" parent="cp-igw-lb">
          <mxGeometry relative="1" as="geometry"><mxPoint as="offset" /></mxGeometry>
        </mxCell>

        <!-- LB → Edge Gateway (HTTP :8080) -->
        <mxCell id="cp-lb-edge" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=2;strokeColor=#82b366;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="node-lb" target="ee-jvm-edge">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="label-lb-edge" value="HTTP :8080" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=9;fontColor=#82b366;fontStyle=1;" vertex="1" connectable="0" parent="cp-lb-edge">
          <mxGeometry x="0.1" relative="1" as="geometry"><mxPoint as="offset" /></mxGeometry>
        </mxCell>

        <!-- Edge Gateway → ME Shard A -->
        <mxCell id="cp-gw-a" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=1;strokeColor=#6c8ebf;dashed=1;endArrow=open;endFill=0;" edge="1" parent="ee-private-subnet" source="ee-jvm-edge" target="ee-jvm-a">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="label-gw-a" value="HTTP :8080&#xa;sym A,B,C,D" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=8;" vertex="1" connectable="0" parent="cp-gw-a">
          <mxGeometry relative="1" as="geometry"><mxPoint as="offset" /></mxGeometry>
        </mxCell>

        <!-- Edge Gateway → ME Shard B -->
        <mxCell id="cp-gw-b" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=1;strokeColor=#6c8ebf;dashed=1;endArrow=open;endFill=0;" edge="1" parent="ee-private-subnet" source="ee-jvm-edge" target="ee-jvm-b">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="label-gw-b" value="HTTP :8080&#xa;sym E,F,G,H" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=8;" vertex="1" connectable="0" parent="cp-gw-b">
          <mxGeometry relative="1" as="geometry"><mxPoint as="offset" /></mxGeometry>
        </mxCell>

        <!-- Edge Gateway → ME Shard C -->
        <mxCell id="cp-gw-c" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=1;strokeColor=#6c8ebf;dashed=1;endArrow=open;endFill=0;" edge="1" parent="ee-private-subnet" source="ee-jvm-edge" target="ee-jvm-c">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="label-gw-c" value="HTTP :8080&#xa;sym I,J,K,L" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=8;" vertex="1" connectable="0" parent="cp-gw-c">
          <mxGeometry relative="1" as="geometry"><mxPoint as="offset" /></mxGeometry>
        </mxCell>

        <!-- ME Shards → Redpanda (Kafka publish) -->
        <mxCell id="cp-a-kafka" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=1;strokeColor=#d6b656;dashed=1;endArrow=open;endFill=0;" edge="1" parent="ee-private-subnet" source="ee-jvm-a" target="ee-redpanda">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cp-b-kafka" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=1;strokeColor=#d6b656;dashed=1;endArrow=open;endFill=0;" edge="1" parent="ee-private-subnet" source="ee-jvm-b" target="ee-redpanda">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cp-c-kafka" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=1;strokeColor=#d6b656;dashed=1;endArrow=open;endFill=0;" edge="1" parent="ee-private-subnet" source="ee-jvm-c" target="ee-redpanda">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="label-kafka" value="Kafka :9092&#xa;acks=0" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=8;fontColor=#d6b656;" vertex="1" parent="ee-private-subnet">
          <mxGeometry x="1260" y="250" width="80" height="30" as="geometry" />
        </mxCell>

        <!-- Prometheus → ME Shards (scrape) -->
        <mxCell id="cp-prom-a" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=1;strokeColor=#AA00AA;dashed=1;endArrow=open;endFill=0;" edge="1" parent="ee-private-subnet" source="ee-prometheus" target="ee-jvm-a">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cp-prom-b" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=1;strokeColor=#AA00AA;dashed=1;endArrow=open;endFill=0;" edge="1" parent="ee-private-subnet" source="ee-prometheus" target="ee-jvm-b">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cp-prom-c" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=1;strokeColor=#AA00AA;dashed=1;endArrow=open;endFill=0;" edge="1" parent="ee-private-subnet" source="ee-prometheus" target="ee-jvm-c">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="cp-prom-gw" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=1;strokeColor=#AA00AA;dashed=1;endArrow=open;endFill=0;" edge="1" parent="ee-private-subnet" source="ee-prometheus" target="ee-jvm-edge">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="label-prom-scrape" value="GET :9091/metrics&#xa;scrape: 5s" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=8;fontColor=#AA00AA;" vertex="1" parent="ee-private-subnet">
          <mxGeometry x="700" y="460" width="110" height="30" as="geometry" />
        </mxCell>

        <!-- Grafana → Prometheus -->
        <mxCell id="cp-grafana-prom" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=1;strokeColor=#555555;" edge="1" parent="ee-docker-edge" source="ee-grafana" target="ee-prometheus">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="label-grafana-prom" value="PromQL :9090" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=8;" vertex="1" connectable="0" parent="cp-grafana-prom">
          <mxGeometry relative="1" as="geometry"><mxPoint as="offset" /></mxGeometry>
        </mxCell>

        <!-- k6 → Edge Gateway (load) -->
        <mxCell id="cp-k6-gw" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=1;strokeColor=#009900;dashed=1;" edge="1" parent="ee-docker-edge" source="ee-k6" target="ee-jvm-edge">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="label-k6-gw" value="HTTP :8080&#xa;(load test)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=8;fontColor=#009900;" vertex="1" connectable="0" parent="cp-k6-gw">
          <mxGeometry relative="1" as="geometry"><mxPoint as="offset" /></mxGeometry>
        </mxCell>

        <!-- k6 → Prometheus (remote write) -->
        <mxCell id="cp-k6-prom" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeWidth=1;strokeColor=#009900;dashed=1;" edge="1" parent="ee-docker-edge" source="ee-k6" target="ee-prometheus">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="label-k6-prom" value="remote-write&#xa;:9090/api/v1/write" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=8;fontColor=#009900;" vertex="1" connectable="0" parent="cp-k6-prom">
          <mxGeometry relative="1" as="geometry"><mxPoint as="offset" /></mxGeometry>
        </mxCell>

        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- COST BREAKDOWN TABLE (inset box)                        -->
        <!-- ═══════════════════════════════════════════════════════ -->
        <mxCell id="cost-table" value="&lt;b&gt;Análisis de Costos — OCI Pay-as-You-Go (sin Free Tier) · us-ashburn-1 · 730 h/mes&lt;/b&gt;&#xa;&#xa;&lt;table border=&quot;1&quot; cellpadding=&quot;3&quot; style=&quot;border-collapse:collapse;font-size:10px;&quot;&gt;&#xa;&lt;tr style=&quot;background:#1e3a5f;color:#fff;&quot;&gt;&lt;th&gt;Recurso&lt;/th&gt;&lt;th&gt;Shape / SKU&lt;/th&gt;&lt;th&gt;Qty&lt;/th&gt;&lt;th&gt;Tarifa&lt;/th&gt;&lt;th&gt;USD/mes&lt;/th&gt;&lt;/tr&gt;&#xa;&lt;tr&gt;&lt;td&gt;A1.Flex — 4 OCPUs (ARM64)&lt;/td&gt;&lt;td&gt;VM.Standard.A1.Flex&lt;/td&gt;&lt;td&gt;4 OCPU&lt;/td&gt;&lt;td&gt;$0.01/OCPU/h&lt;/td&gt;&lt;td&gt;$29.20&lt;/td&gt;&lt;/tr&gt;&#xa;&lt;tr&gt;&lt;td&gt;A1.Flex — 24 GB RAM&lt;/td&gt;&lt;td&gt;VM.Standard.A1.Flex&lt;/td&gt;&lt;td&gt;24 GB&lt;/td&gt;&lt;td&gt;$0.0015/GB/h&lt;/td&gt;&lt;td&gt;$26.28&lt;/td&gt;&lt;/tr&gt;&#xa;&lt;tr&gt;&lt;td&gt;Bastion — 1 OCPU (x86_64)&lt;/td&gt;&lt;td&gt;VM.Standard.E4.Flex&lt;/td&gt;&lt;td&gt;1 OCPU&lt;/td&gt;&lt;td&gt;$0.025/OCPU/h&lt;/td&gt;&lt;td&gt;$18.25&lt;/td&gt;&lt;/tr&gt;&#xa;&lt;tr&gt;&lt;td&gt;Bastion — 1 GB RAM&lt;/td&gt;&lt;td&gt;VM.Standard.E4.Flex&lt;/td&gt;&lt;td&gt;1 GB&lt;/td&gt;&lt;td&gt;$0.0015/GB/h&lt;/td&gt;&lt;td&gt;$1.10&lt;/td&gt;&lt;/tr&gt;&#xa;&lt;tr&gt;&lt;td&gt;Boot Volumes (170 GB total)&lt;/td&gt;&lt;td&gt;Block Volume&lt;/td&gt;&lt;td&gt;170 GB&lt;/td&gt;&lt;td&gt;$0.0255/GB/mes&lt;/td&gt;&lt;td&gt;$4.34&lt;/td&gt;&lt;/tr&gt;&#xa;&lt;tr&gt;&lt;td&gt;NAT Gateway&lt;/td&gt;&lt;td&gt;NAT Gateway&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;$0.045/h&lt;/td&gt;&lt;td&gt;$32.85&lt;/td&gt;&lt;/tr&gt;&#xa;&lt;tr&gt;&lt;td&gt;Flexible Load Balancer (10 Mbps)&lt;/td&gt;&lt;td&gt;LB Flexible&lt;/td&gt;&lt;td&gt;10 Mbps&lt;/td&gt;&lt;td&gt;$0.0088/Mbps/h&lt;/td&gt;&lt;td&gt;$64.24&lt;/td&gt;&lt;/tr&gt;&#xa;&lt;tr&gt;&lt;td&gt;Reserved Public IPs (×2)&lt;/td&gt;&lt;td&gt;Public IP Reserved&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;$0.0025/IP/h&lt;/td&gt;&lt;td&gt;$3.65&lt;/td&gt;&lt;/tr&gt;&#xa;&lt;tr&gt;&lt;td&gt;Outbound data (~5 GB/mes)&lt;/td&gt;&lt;td&gt;Egress&lt;/td&gt;&lt;td&gt;5 GB&lt;/td&gt;&lt;td&gt;$0.0085/GB&lt;/td&gt;&lt;td&gt;$0.04&lt;/td&gt;&lt;/tr&gt;&#xa;&lt;tr style=&quot;background:#1e3a5f;color:#fff;font-weight:bold;&quot;&gt;&lt;td colspan=&quot;4&quot;&gt;TOTAL MENSUAL (sin Free Tier)&lt;/td&gt;&lt;td&gt;$179.95&lt;/td&gt;&lt;/tr&gt;&#xa;&lt;tr style=&quot;background:#d5e8d4;&quot;&gt;&lt;td colspan=&quot;4&quot;&gt;Con OCI Always Free Tier&lt;/td&gt;&lt;td&gt;$0.00&lt;/td&gt;&lt;/tr&gt;&#xa;&lt;tr style=&quot;background:#fff2cc;&quot;&gt;&lt;td colspan=&quot;4&quot;&gt;AWS equivalente (Graviton3)&lt;/td&gt;&lt;td&gt;~$156.85&lt;/td&gt;&lt;/tr&gt;&#xa;&lt;/table&gt;" style="text;html=1;strokeColor=#1e3a5f;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=10;spacingTop=10;rounded=1;fontSize=10;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="30" y="1340" width="1440" height="230" as="geometry" />
        </mxCell>

        <!-- ═══════════════════════════════════════════════════════ -->
        <!-- LEGEND                                                   -->
        <!-- ═══════════════════════════════════════════════════════ -->
        <mxCell id="legend-box" value="&lt;b&gt;Leyenda UML 2.5&lt;/b&gt;&#xa;&#xa;«device»                  Nodo hardware físico/virtual&#xa;«executionEnvironment»    Entorno de ejecución (OS, Docker, JVM)&#xa;«artifact»                Artefacto desplegado (JAR, imagen)&#xa;──────                    CommunicationPath (protocolo)&#xa;- - - -                   Dependencia / uso&lt;" style="text;html=1;strokeColor=#666666;fillColor=#ffffff;align=left;verticalAlign=top;spacingLeft=10;spacingTop=10;rounded=1;fontSize=10;fontFamily=Courier New;" vertex="1" parent="1">
          <mxGeometry x="1520" y="1340" width="350" height="200" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
